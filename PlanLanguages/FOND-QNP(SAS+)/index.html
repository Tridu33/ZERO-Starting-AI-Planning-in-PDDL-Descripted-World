<!DOCTYPE html><html> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content=tridu33><link rel="shortcut icon" href=../../img/favicon.ico><title>FOND-QNP(SAS+) &mdash; AI Planning in PDDL-Descripted World</title><link rel=stylesheet href="//fonts.googleapis.com/css?family=Lato:400,700"><link rel=stylesheet href=//cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css><link rel=stylesheet href=//use.fontawesome.com/releases/v5.8.1/css/all.css><link rel=stylesheet href=//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css><link rel=stylesheet href=../../css/theme.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css><script src=//code.jquery.com/jquery-2.1.1.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js></script><script>
        hljs.initHighlightingOnLoad();
    </script></head> <body ontouchstart> <div id=container> <aside> <div class=home> <div class=title> <button class=hamburger></button> <a href=../.. class=site-name> AI Planning in PDDL-Descripted World</a> </div> <div class=search> <div role=search> <form id=rtd-search-form class=wy-form action=../../search.html method=get> <input type=text name=q placeholder="Search docs" title="Type search term here"> </form> </div> </div> </div> <nav class=nav> <ul class=root> <li class=toctree-l1><a class=nav-item href=../..>Home</a></li> <li class=toctree-l1><button class="section nav-item">规划界黑话</button> <ul class=subnav> <li class="toctree-l2 current"><button class="section nav-item">PDDL进化史</button> <ul class=subnav> <li class=toctree-l3><a href=../PDDL%E8%AF%AD%E8%A8%80/ class=nav-item>HelloPDDL</a></li> <li class=toctree-l3><a href=../PDDL_basic/ class=nav-item>PDDL-Basic</a></li> <li class=toctree-l3><a href=../ADL/ class=nav-item>ADL</a></li> <li class=toctree-l3><a href=../STRIPS%E8%AF%AD%E8%A8%80/ class=nav-item>STRIPS</a></li> <li class="toctree-l3 current"><button class="section nav-item">PDDL</button> <ul class=subnav> <li class=toctree-l4><a href=../Extension%20to%20PDDL/ class=nav-item>PDDL扩展</a></li> <li class="toctree-l4 current"><a href=./ class="nav-item current">FOND-QNP(SAS+)</a><a href=./ class="nav-item current">FOND-QNP(SAS+)</a> <ul class=subnav> </ul></li> </ul></li> <li class=toctree-l3><a href=../lowLevelVShighLevel/ class=nav-item>相同问题不同表示手法对比</a><a href=../lowLevelVShighLevel/ class=nav-item>相同问题不同表示手法对比</a></li> </ul></li> <li class=toctree-l2><button class="section nav-item hide">机器人世界</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../Golog/Golog_ROS/ class=nav-item>Golog</a></li> </ul></li> </ul></li> <li class=toctree-l1><button class="section nav-item">PDDL使用</button> <ul class=subnav> <li class=toctree-l2> <a href=../../Usage/LocalSolvers/ class=nav-item>本地环境使用</a></li> <li class=toctree-l2> <a href=../../Usage/OnlineSolver/ class=nav-item>线上求解器使用</a></li> <li class=toctree-l2> <a href=../../Usage/VSCode/ class=nav-item>Visual Studio Code使用</a></li> <li class=toctree-l2><a href=../../Usage/FFPlanner_demo/ class=nav-item>ffPlanner_demo</a></li> <li class=toctree-l2><button class="section nav-item hide">经典demos</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../SolversBaseOnPDDL/%E5%88%8A%E7%89%A9%E4%B8%8A%E7%BB%8F%E5%85%B8demos/ class=nav-item>刊物上经典demos</a></li> <li class=toctree-l3><a href=../../SolversBaseOnPDDL/PDDL%20Benchmark%20Instances/ class=nav-item>BenchMark</a></li> </ul></li> </ul></li> <li class=toctree-l1><button class="section nav-item">PDDL语法</button> <ul class=subnav> <li class=toctree-l2> <a href=../../Syntax/PDDL%20axioms/ class=nav-item>语法总览</a></li> <li class=toctree-l2><a href=../../Syntax/PDDLParser/ class=nav-item>Parser</a></li> </ul></li> <li class=toctree-l1><button class="section nav-item">PDDL-Descripted AI Planning World</button> <ul class=subnav> <li class=toctree-l2><button class="section nav-item hide">Papers</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../Papers/A%20review%20of%20generalized%20planning/ class=nav-item>reviewOfGP</a></li> <li class=toctree-l3><a href=../../Papers/GP_summary/ class=nav-item>GP_summary</a></li> <li class=toctree-l3><a href=../../Papers/A%20Review%20of%20Machine%20Learning%20for%20Automated%20Planning/ class=nav-item>ReviewOfMLforAP</a></li> <li class=toctree-l3><a href=../../Papers/Generalized%20Planning%20With%20Deep%20Reinforcement%20Learning/ class=nav-item>GPwithDeep-RL</a></li> <li class=toctree-l3><a href=../../Papers/Survey%20of%20research%20literature/ class=nav-item>researchSurvey</a></li> </ul></li> <li class=toctree-l2><button class="section nav-item hide">SolversBaseOnPDDL</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../SolversBaseOnPDDL/PyperPlan_STRIPS/ class=nav-item>PyperPlan_STRIPS</a></li> <li class=toctree-l3><a href=../../SolversBaseOnPDDL/Solvers/ class=nav-item>Solvers</a></li> <li class=toctree-l3><button class="section nav-item hide">CP</button> <ul class="subnav hide"> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/CP/ffPlaner/ class=nav-item>FF</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/CP/fast-downward/ class=nav-item>FD</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/CP/LAPKT%E8%BD%BB%E9%87%8F%E8%87%AA%E5%8A%A8%E8%A7%84%E5%88%92%E5%B7%A5%E5%85%B7%E5%8C%85/ class=nav-item>LAPKT轻量自动规划工具包</a></li> </ul></li> <li class=toctree-l3><button class="section nav-item hide">GP_Numerical</button> <ul class="subnav hide"> <li class=toctree-l4> <a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_ReduceTo_GraphProblem/ class=nav-item>QNP_ReduceTo_GraphProblem</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/%E5%9B%BE%E6%B3%95QNP/ class=nav-item>图法QNP</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/LPG%EF%BC%88%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E8%A7%84%E5%88%92%E5%9B%BE%EF%BC%89/ class=nav-item>LPG</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/grahPlan/ class=nav-item>grahPlan</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/SGPlan6/ class=nav-item>SGPlan6</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/PRP/ class=nav-item>PRP</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/myND/ class=nav-item>myND</a></li> </ul></li> <li class=toctree-l3><button class="section nav-item hide">QNP_FONS_SAT</button> <ul class="subnav hide"> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/CNF_py/ class=nav-item>CNF_py</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/FOND/ class=nav-item>FOND</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/QA_FOND/ class=nav-item>QA_FOND</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/%E4%BE%8B%E8%A7%A3FOND%2BCNF/ class=nav-item>例解FOND</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/QNP/ class=nav-item>QNP</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/qnp2fond/ class=nav-item>qnp2fond</a></li> <li class=toctree-l4><a href=../../SolversBaseOnPDDL/GP_Numerical/QNP_FONS_SAT/QNP2SAT/ class=nav-item>QNP2SAT</a></li> </ul></li> </ul></li> <li class=toctree-l2><button class="section nav-item hide">PDDL-plan-validators</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../Extensions/PDDL-plan-validator/PDDL-plan-validator/ class=nav-item>validators</a></li> <li class=toctree-l3><a href=../../Extensions/PDDL-plan-validator/Lisp-pddl-INVAL-validator/ class=nav-item>INVAL</a></li> <li class=toctree-l3><a href=../../Extensions/PDDL-plan-validator/VScode-PDDL%E6%8F%92%E4%BB%B6VAL/ class=nav-item>VAL</a></li> </ul></li> <li class=toctree-l2><button class="section nav-item hide">PDDL-Auto Planning</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../Extensions/AP/PDDL4j_Java%20for%E8%87%AA%E5%8A%A8%E8%A7%84%E5%88%92/ class=nav-item>PDDL4j</a></li> <li class=toctree-l3><a href=../../Extensions/AP/Tarski%20-%20An%20AI%20Planning%20Modeling%20Framework/ class=nav-item>Tarski</a></li> <li class=toctree-l3><a href=../../Extensions/AP/%E5%AE%9E%E4%BE%8B%E4%B8%AD%E5%AD%A6%E4%B9%A0QNP%E5%AE%9A%E4%B9%89%E5%AE%9E%E7%8E%B0AP%28AutomatedPlanning%29/ class=nav-item>QNP2AP</a></li> <li class=toctree-l3><a href=../../Extensions/RL/PDDLGYM/ class=nav-item>PDDLGYM</a></li> <li class=toctree-l3><a href=../../Extensions/RL/RLPlanPapers/ class=nav-item>PDDL+RL强化学习</a></li> </ul></li> </ul></li> <li class=toctree-l1><button class="section nav-item">进击的PDDL</button> <ul class=subnav> <li class=toctree-l2><button class="section nav-item hide">Curry-Howard correspondence</button> <ul class="subnav hide"> <li class=toctree-l3><a href=../../FurtherMore/%E6%8E%A7%E5%88%B6%E6%B5%81%E5%9B%BECFG%E8%AF%AD%E4%B9%89%E7%BD%91%E7%BB%9Cpetri%E8%BF%81%E7%A7%BB%E7%B3%BB%E7%BB%9F%E6%89%A9%E5%B1%95%E5%BA%94%E7%94%A8/ class=nav-item>CFG语义网络</a></li> <li class=toctree-l3><a href=../../FurtherMore/PDDL-Solver2AST/ class=nav-item>PDDL-Solver2AST</a></li> <li class=toctree-l3><a href=../../FurtherMore/TransitionSystemModelCheck/ class=nav-item>CFG=TransitionSystemModelCheck.md</a></li> <li class=toctree-l3><a href=../../FurtherMore/qnp2ast2program/ class=nav-item>qnp2ast2program</a></li> </ul></li> </ul></li> <li class=toctree-l1> <a class=nav-item href=https://github.com/Tridu33/ZERO-Starting-AI-Planning-in-PDDL-Descripted-World/issues>Issue跟踪讨论</a></li> </ul> </nav> <div class=repo> <div class=link> </div> <div class=previous><a href=../Extension%20to%20PDDL/ >&laquo; Previous</a></div> <div class=next><a href=../lowLevelVShighLevel/ >Next &raquo;</a></div> </div> </aside> <div id=spacer><button class=arrow></button></div> <main> <div class=home-top> <button class=hamburger></button> <a href=../.. class=site-name> AI Planning in PDDL-Descripted World</a> </div> <div id=main> <nav class=breadcrumbs> <ul> <li>规划界黑话 &raquo; </li><li>PDDL进化史 &raquo; </li><li>PDDL</li> </ul> </nav> <div id=content><h1 id=fond-qnpnon-deterministic>FOND-QNP：Non-deterministic<a class=headerlink href=#fond-qnpnon-deterministic title="Permanent link">&para;</a></h1> <p>qnp2fond中定义的qnp输入格式，这里有一个例子</p> <div class=highlight><pre><span></span><code>grid // domain名字
2 delta(X) 1 delta(Y) 1 声明两个变量delta(X)和delta(Y)，变量后边的数字如果是1，表示该变量是数值变量；如果是0，表示该变量是布尔变量
2 delta(X) 1 delta(Y) 1 初始状态：delta(X) &gt; 0, delta(Y) &gt; 0
2 delta(X) 0 delta(Y) 0 目标状态：delta(X) = 0, delta(Y) = 0
2 // 表示下面有2个动作
Move-in-row // 动作名称
1 delta(X) 1 //前提条件 ：delta(X) &gt; 0
1 delta(X) 0 //效果：使delta(X)减小
Move-in-column // 动作名称
1 delta(Y) 1 //前提条件 ：delta(Y) &gt; 0
1 delta(Y) 0 //效果：使delta(Y)减小
</code></pre></div> <p>.json,.qnp都是表示输入状态迁移图。</p> <p>FOND则是:non-deterministic扩展oneof(eff1,eff2)实现非确定性后续。</p> <p>用gripper作为例子：</p> <p>STRIPS:</p> <div class=highlight><pre><span></span><code>(define (domain gripper-strips)
  (:requirements :strips)
  (:predicates (room ?r) 
               (ball ?b) 
               (gripper ?g)
               (at-robby ?r)
               (at ?b ?r) 
               (free ?g)
               (carry ?o ?g)
  )
  (:action move
   :parameters (?from ?to)
   :precondition (and (room ?from)
                      (room ?to)
                      (at-robby ?from))
   :effect (and (at-robby ?to)
                (not (at-robby ?from))))
  (:action pick
   :parameters (?obj ?room ?gripper)
   :precondition (and (ball ?obj)
                      (room ?room)
                      (gripper ?gripper)
                      (at ?obj ?room)
                      (at-robby ?room)
                      (free ?gripper))
   :effect (and (carry ?obj ?gripper)
                (not (at ?obj ?room))
                (not (free ?gripper))))

  (:action drop
   :parameters (?obj ?room ?gripper)
   :precondition (and (ball ?obj)
                      (room ?room)
                      (gripper ?gripper)
                      (carry ?obj ?gripper)
                      (at-robby ?room))
   :effect (and (at ?obj ?room)
                (free ?gripper)
                (not (carry ?obj ?gripper))))

)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(define (problem strips-gripper2)
    (:domain gripper-strips)
    (:objects rooma roomb ball1 ball2 left right)
    (:init (room rooma)
           (room roomb)
           (ball ball1)
           (ball ball2)
           (gripper left)
           (gripper right)
           (at-robby rooma)
           (free left)
           (free right)
           (at ball1 rooma)
           (at ball2 rooma))
    (:goal (and (at ball1 roomb)(at ball2 rooma)))
)
</code></pre></div> <p>fond:</p> <div class=highlight><pre><span></span><code>(define (domain FOND_full_complete_5_4)
    (:requirements :non-deterministic)
    (:types variable depth bit)
    (:constants balls-at-source carrying free-grippers - variable d0 d1 d2 d3 d4 - depth b0 b1 b2 b3 b4 - bit)
    (:predicates
        (zero ?X - variable)
        (stack-depth ?d - depth)
        (stack-index ?X - variable ?d - depth)
        (stack-in ?X - variable)
        (counter ?d - depth ?b - bit)
        (at-target)
    )

    (:action PUSH_at_d0_b0
        :parameters (?X - variable)
        :precondition (and (stack-depth d0) (not (counter d0 b0)))
        :effect (and (not (stack-depth d0)) (stack-depth d1) (stack-in ?X) (stack-index ?X d1) (counter d0 b0))
    )
    (:action PUSH_at_d0_b1
        :parameters (?X - variable)
        :precondition (and (stack-depth d0) (counter d0 b0) (not (counter d0 b1)))
        :effect (and (not (stack-depth d0)) (stack-depth d1) (stack-in ?X) (stack-index ?X d1) (not (counter d0 b0)) (counter d0 b1))
    )
    (:action PUSH_at_d0_b2
        :parameters (?X - variable)
        :precondition (and (stack-depth d0) (counter d0 b0) (counter d0 b1) (not (counter d0 b2)))
        :effect (and (not (stack-depth d0)) (stack-depth d1) (stack-in ?X) (stack-index ?X d1) (not (counter d0 b0)) (not (counter d0 b1)) (counter d0 b2))
    )
    (:action PUSH_at_d0_b3
        :parameters (?X - variable)
        :precondition (and (stack-depth d0) (counter d0 b0) (counter d0 b1) (counter d0 b2) (not (counter d0 b3)))
        :effect (and (not (stack-depth d0)) (stack-depth d1) (stack-in ?X) (stack-index ?X d1) (not (counter d0 b0)) (not (counter d0 b1)) (not (counter d0 b2)) (counter d0 b3))
    )
    (:action PUSH_at_d0_b4
        :parameters (?X - variable)
        :precondition (and (stack-depth d0) (counter d0 b0) (counter d0 b1) (counter d0 b2) (counter d0 b3) (not (counter d0 b4)))
        :effect (and (not (stack-depth d0)) (stack-depth d1) (stack-in ?X) (stack-index ?X d1) (not (counter d0 b0)) (not (counter d0 b1)) (not (counter d0 b2)) (not (counter d0 b3)) (counter d0 b4))
    )
    (:action PUSH_at_d1_b0
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (not (stack-in ?X)) (not (counter d1 b0)))
        :effect (and (not (stack-depth d1)) (stack-depth d2) (stack-in ?X) (stack-index ?X d2) (counter d1 b0))
    )
    (:action PUSH_at_d1_b1
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (not (stack-in ?X)) (counter d1 b0) (not (counter d1 b1)))
        :effect (and (not (stack-depth d1)) (stack-depth d2) (stack-in ?X) (stack-index ?X d2) (not (counter d1 b0)) (counter d1 b1))
    )
    (:action PUSH_at_d1_b2
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (not (stack-in ?X)) (counter d1 b0) (counter d1 b1) (not (counter d1 b2)))
        :effect (and (not (stack-depth d1)) (stack-depth d2) (stack-in ?X) (stack-index ?X d2) (not (counter d1 b0)) (not (counter d1 b1)) (counter d1 b2))
    )
    (:action PUSH_at_d1_b3
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (not (stack-in ?X)) (counter d1 b0) (counter d1 b1) (counter d1 b2) (not (counter d1 b3)))
        :effect (and (not (stack-depth d1)) (stack-depth d2) (stack-in ?X) (stack-index ?X d2) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (counter d1 b3))
    )
    (:action PUSH_at_d1_b4
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (not (stack-in ?X)) (counter d1 b0) (counter d1 b1) (counter d1 b2) (counter d1 b3) (not (counter d1 b4)))
        :effect (and (not (stack-depth d1)) (stack-depth d2) (stack-in ?X) (stack-index ?X d2) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (not (counter d1 b3)) (counter d1 b4))
    )
    (:action PUSH_at_d2_b0
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (not (stack-in ?X)) (not (counter d2 b0)))
        :effect (and (not (stack-depth d2)) (stack-depth d3) (stack-in ?X) (stack-index ?X d3) (counter d2 b0))
    )
    (:action PUSH_at_d2_b1
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (not (stack-in ?X)) (counter d2 b0) (not (counter d2 b1)))
        :effect (and (not (stack-depth d2)) (stack-depth d3) (stack-in ?X) (stack-index ?X d3) (not (counter d2 b0)) (counter d2 b1))
    )
    (:action PUSH_at_d2_b2
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (not (stack-in ?X)) (counter d2 b0) (counter d2 b1) (not (counter d2 b2)))
        :effect (and (not (stack-depth d2)) (stack-depth d3) (stack-in ?X) (stack-index ?X d3) (not (counter d2 b0)) (not (counter d2 b1)) (counter d2 b2))
    )
    (:action PUSH_at_d2_b3
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (not (stack-in ?X)) (counter d2 b0) (counter d2 b1) (counter d2 b2) (not (counter d2 b3)))
        :effect (and (not (stack-depth d2)) (stack-depth d3) (stack-in ?X) (stack-index ?X d3) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (counter d2 b3))
    )
    (:action PUSH_at_d2_b4
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (not (stack-in ?X)) (counter d2 b0) (counter d2 b1) (counter d2 b2) (counter d2 b3) (not (counter d2 b4)))
        :effect (and (not (stack-depth d2)) (stack-depth d3) (stack-in ?X) (stack-index ?X d3) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (counter d2 b4))
    )
    (:action PUSH_at_d3_b0
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (not (stack-in ?X)) (not (counter d3 b0)))
        :effect (and (not (stack-depth d3)) (stack-depth d4) (stack-in ?X) (stack-index ?X d4) (counter d3 b0))
    )
    (:action PUSH_at_d3_b1
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (not (stack-in ?X)) (counter d3 b0) (not (counter d3 b1)))
        :effect (and (not (stack-depth d3)) (stack-depth d4) (stack-in ?X) (stack-index ?X d4) (not (counter d3 b0)) (counter d3 b1))
    )
    (:action PUSH_at_d3_b2
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (not (stack-in ?X)) (counter d3 b0) (counter d3 b1) (not (counter d3 b2)))
        :effect (and (not (stack-depth d3)) (stack-depth d4) (stack-in ?X) (stack-index ?X d4) (not (counter d3 b0)) (not (counter d3 b1)) (counter d3 b2))
    )
    (:action PUSH_at_d3_b3
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (not (stack-in ?X)) (counter d3 b0) (counter d3 b1) (counter d3 b2) (not (counter d3 b3)))
        :effect (and (not (stack-depth d3)) (stack-depth d4) (stack-in ?X) (stack-index ?X d4) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (counter d3 b3))
    )
    (:action PUSH_at_d3_b4
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (not (stack-in ?X)) (counter d3 b0) (counter d3 b1) (counter d3 b2) (counter d3 b3) (not (counter d3 b4)))
        :effect (and (not (stack-depth d3)) (stack-depth d4) (stack-in ?X) (stack-index ?X d4) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (counter d3 b4))
    )
    (:action POP_at_d1
        :parameters (?X - variable)
        :precondition (and (stack-depth d1) (stack-index ?X d1) (stack-in ?X))
        :effect (and (not (stack-depth d1)) (not (stack-index ?X d1)) (not (stack-in ?X)) (stack-depth d0))
    )
    (:action POP_at_d2
        :parameters (?X - variable)
        :precondition (and (stack-depth d2) (stack-index ?X d2) (stack-in ?X))
        :effect (and (not (stack-depth d2)) (not (stack-index ?X d2)) (not (stack-in ?X)) (stack-depth d1))
    )
    (:action POP_at_d3
        :parameters (?X - variable)
        :precondition (and (stack-depth d3) (stack-index ?X d3) (stack-in ?X))
        :effect (and (not (stack-depth d3)) (not (stack-index ?X d3)) (not (stack-in ?X)) (stack-depth d2))
    )
    (:action POP_at_d4
        :parameters (?X - variable)
        :precondition (and (stack-depth d4) (stack-index ?X d4) (stack-in ?X))
        :effect (and (not (stack-depth d4)) (not (stack-index ?X d4)) (not (stack-in ?X)) (stack-depth d3))
    )
    (:action MOVE_b0
        :precondition (and (stack-depth d0) (not (top-counter b0)))
        :effect (and (top-counter 0))
    )
    (:action MOVE_b1
        :precondition (and (stack-depth d0) (top-counter b0) (not (top-counter b1)))
        :effect (and (not (top-counter b0)) (top-counter 1))
    )
    (:action MOVE_b2
        :precondition (and (stack-depth d0) (top-counter b0) (top-counter b1) (not (top-counter b2)))
        :effect (and (not (top-counter b0)) (not (top-counter b1)) (top-counter 2))
    )
    (:action MOVE_b3
        :precondition (and (stack-depth d0) (top-counter b0) (top-counter b1) (top-counter b2) (not (top-counter b3)))
        :effect (and (not (top-counter b0)) (not (top-counter b1)) (not (top-counter b2)) (top-counter 3))
    )
    (:action MOVE_b4
        :precondition (and (stack-depth d0) (top-counter b0) (top-counter b1) (top-counter b2) (top-counter b3) (not (top-counter b4)))
        :effect (and (not (top-counter b0)) (not (top-counter b1)) (not (top-counter b2)) (not (top-counter b3)) (top-counter 4))
    )
    (:action Drop-at-source_f0_d1
        :precondition (and (not (at-target)) (not (zero carrying)) (stack-index carrying d1) (not (stack-in balls-at-source)) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (zero balls-at-source)) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (not (counter d1 b3)) (not (counter d1 b4)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-source_f0_d2
        :precondition (and (not (at-target)) (not (zero carrying)) (stack-index carrying d2) (not (stack-in balls-at-source)) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (zero balls-at-source)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-source_f0_d3
        :precondition (and (not (at-target)) (not (zero carrying)) (stack-index carrying d3) (not (stack-in balls-at-source)) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (zero balls-at-source)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-source_f0_d4
        :precondition (and (not (at-target)) (not (zero carrying)) (stack-index carrying d4) (not (stack-in balls-at-source)) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (zero balls-at-source)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-target_f0_d1
        :precondition (and (at-target) (not (zero carrying)) (stack-index carrying d1) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (not (counter d1 b3)) (not (counter d1 b4)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-target_f0_d2
        :precondition (and (at-target) (not (zero carrying)) (stack-index carrying d2) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-target_f0_d3
        :precondition (and (at-target) (not (zero carrying)) (stack-index carrying d3) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Drop-at-target_f0_d4
        :precondition (and (at-target) (not (zero carrying)) (stack-index carrying d4) (not (stack-in free-grippers)))
        :effect (and (oneof (zero carrying) (not (zero carrying))) (not (zero free-grippers)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f0_d1
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index balls-at-source d1) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (not (counter d1 b3)) (not (counter d1 b4)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f0_d2
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index balls-at-source d2) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f0_d3
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index balls-at-source d3) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f0_d4
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index balls-at-source d4) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f1_d1
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index free-grippers d1) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d1 b0)) (not (counter d1 b1)) (not (counter d1 b2)) (not (counter d1 b3)) (not (counter d1 b4)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f1_d2
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index free-grippers d2) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d2 b0)) (not (counter d2 b1)) (not (counter d2 b2)) (not (counter d2 b3)) (not (counter d2 b4)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f1_d3
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index free-grippers d3) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d3 b0)) (not (counter d3 b1)) (not (counter d3 b2)) (not (counter d3 b3)) (not (counter d3 b4)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Pick-at-source_f1_d4
        :precondition (and (not (at-target)) (not (zero balls-at-source)) (not (zero free-grippers)) (stack-index free-grippers d4) (not (stack-in carrying)))
        :effect (and (oneof (zero balls-at-source) (not (zero balls-at-source))) (oneof (zero free-grippers) (not (zero free-grippers))) (not (zero carrying)) (not (counter d4 b0)) (not (counter d4 b1)) (not (counter d4 b2)) (not (counter d4 b3)) (not (counter d4 b4)))
    )
    (:action Move-to-target
        :precondition (and (not (at-target)))
        :effect (and (at-target))
    )
    (:action Move-back
        :precondition (and (at-target))
        :effect (and (not (at-target)))
    )
)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(define (problem FOND_full_complete_5_4_p)
    (:domain FOND_full_complete_5_4)
    (:init (stack-depth d0) (at-target) (zero carrying))
    (:goal (and (zero balls-at-source) (zero carrying)))
)
</code></pre></div> <p>qnp:</p> <div class=highlight><pre><span></span><code>gripper
4 balls-at-source 1 carrying 1 free-grippers 1 at-target 0
4 at-target 1 balls-at-source 1 carrying 0 free-grippers 1
2 balls-at-source 0 carrying 0
5
Drop-at-source
2 at-target 0 carrying 1
3 carrying 0 free-grippers 1 balls-at-source 1
Drop-at-target
2 at-target 1 carrying 1
2 carrying 0 free-grippers 1
Pick-at-source
3 at-target 0 balls-at-source 1 free-grippers 1
3 balls-at-source 0 free-grippers 0 carrying 1
Move-to-target
1 at-target 0
1 at-target 1
Move-back
1 at-target 1
1 at-target 0
</code></pre></div> <h1 id=sas>SAS+<a class=headerlink href=#sas title="Permanent link">&para;</a></h1> <p>这个非确定性后续迁移系统前文已经说了可以用qnp/FOND/sas+表示：</p> <ul> <li> <p>qnp2fond中定义的qnp输入格式，qnp2fond是学长solver用的输入格式；</p> </li> <li> <p>启发式搜索PRP输入格式是FOND的non-deterministic，oneof(eff1,eff2)的扩展版本pddl格式，qnp2fond后的pddl格式就是能给它求解；</p> </li> <li> <p>两派：纯逻辑规约SAT问题合取范式cnf求解FOND-SAT/PDB模式数据库启发式+LAOStart搜索求解myND输入格式都是FOND转中间表示SAS+表示格式，然后Parser这个SAS+进而求解。</p> </li> </ul> <p>《Complexity Results for SAS+ Planning》中评价这个格式可以这样看Using the SAS and SAS+ formalisms,5 which can be viewed as variants of propositional STRIPS [Fikes and Nilsson, 1971] or ground TWEAK [Chapman, 1987], we considered a number of local and global restrictions and analyzed the resulting complexity of the planning problem而myND作者也是用了《Concise finite-domain representations for PDDL planning tasks》中提出的pddl转换SAS+(将标准PDDL形式主义中指定的计划任务转换为简洁的表示形式的有效方法，该表示形式使用有限域状态变量而不是简单的命题编码。),其实就是myND代码python两个翻译器把pddl版本FOND/POND翻译成myND输入格式sas+的那个工具。<a href=https://github.com/JackyCSer/MyNDPlanner/blob/master/wiki/Translator.md>myND作者很详细讲述了这个SAS+怎么理解</a>，都写在文档中的注释里面。</p> <hr></div> <footer> <div class=footer-buttons> <div class=previous><a href=../Extension%20to%20PDDL/ title=PDDL扩展><span>Previous</span></a></div> <div class=next><a href=../lowLevelVShighLevel/ title=相同问题不同表示手法对比><span>Next</span></a></div> </div> <div class=footer-note> <p> Built with <a href=http://www.mkdocs.org>MkDocs</a> using <a href=https://github.com/daizutabi/mkdocs-ivory>Ivory theme</a>. </p> </div> </footer> </div> </main> </div> <script>var base_url = '../..';</script> <script src=../../js/theme.js></script> <script src=../../js/umlconvert.js></script> <script src=../../js/sequence-loader.js></script> <script src=https://unpkg.com/mermaid/dist/mermaid.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.12.0/underscore-min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js></script> <script src=../../search/main.js></script> </body> </html>